Paul Bell added a comment - 18/Nov/15 3:43 AM
Original comment by mgood

I discussed this with Isu-san and William-san.

This page does not work for WS devices and it is a known issue.
WS projects will work as expected. The device is still inside the project.

The limitation is that you cannot change the device on this page.
So the device page cannot work for the WS devices.
No plan to change this in the near future.
Permalink
paul.bell@renesas.com Paul Bell added a comment - 18/Nov/15 3:43 AM
Original comment by myosh

In the WS version, the text-box not only is blanked but also the build error occurs.(Figure.4)

The build error doesn't occur if the device is selected manually.
But the following device selected link error occurs.(Figure.5)

    DR7F0C0107
    DR7F0C010B

Permalink
paul.bell@renesas.com Paul Bell added a comment - 18/Nov/15 3:43 AM
Original comment by icisu

I discussed Figure4.jpg/Figure5.jpg with William-san.

We guess that the cause of build error is BuildTool for CC-RL.
So, could you please investigate this matter by the builder team?
Permalink
paul.bell@renesas.com Paul Bell added a comment - 18/Nov/15 3:43 AM
Original comment by tinui

From: Toshiyuki Inui 
Sent: 23 June 2015 06:05
To: William Riley
Cc: Terence Howe; Mark Goodchild; Paul Bell; Kazuhiro Takeuchi; Wataru Kidahashi; Makoto Yoshida; Koji Kudo
Subject: RL78 device file for China/India issue(IDE-7112)

William-san,

The result of our investigation, the root cause is that "MemoryMapManager" does not return correct information of WS device file.

In CCRL PG, PG get memory map information from it used for linker settings.
In addition, Memory Usage plugin call this API and this does not work well also.

Could you please check this?
Is is easy to fix?

Best regards,
Inui

Permalink
paul.bell@renesas.com Paul Bell added a comment - 18/Nov/15 3:43 AM
Original comment by tinui

On 2015/06/23 17:51, William Riley wrote:> Inui-san
 
 The issue is that the directory the Memory Maps are extracted to is incorrect, there is an 's' missing. They are extracted to "internal/MemoryMap/RL78/" this should be "internal/MemoryMaps/RL78".
 
 Making this change locally I can get the build to progress further however it still fails with the message
 
 " 'Invoking: Linker'
 'Building target:'
 rlink  -subcommand="LinkerSubCommand.tmp"  -library="C:\PROGRA~2\Renesas\RL78\1_1_0\lib\rl78cm4s.lib" -library="C:\PROGRA~2\Renesas\RL78\1_1_0\lib\rl78cm4r.lib" -list="ccrlwstest1.map" -nooptimize -entry=_start -auto_section_layout -security_id=0 -output="ccrlwstest1.abs" -debug -nocompress -rom=.data=.dataR,.sdata=.sdataR -device="C:/Renesas/e2_studio/DebugComp/RL78\Common\DR7F0C0107.DVF" -nomessage -nologo -vectn=2=ffff
 
 F0563113:Illegal mode type "functional unit" in "input files""
 
 Regards
 William

Permalink
paul.bell@renesas.com Paul Bell added a comment - 18/Nov/15 3:43 AM
Original comment by tinui

William-san,

Thank you for your support.

>> F0563113:Illegal mode type "functional unit" in "input files""

We must set "-use_mda=not_use" as compiler option.
We may need to improve it but milestone is not considered yet.

One more issue occurs.

The device list has an issue. Duplicate device name is shown.
(See attached file.)

Reproduce procedure is below.

0. Use attached plugin.
1. Select "R7F0C0107" as select Target on "Select Target Specific Settings" dialog and create GNURL78 project.
2. Create GNURL78 project again. Select "R7F0C0107" again.

In this case, duplicate device name is shown.
(Refer attache file)
Permalink
paul.bell@renesas.com Paul Bell added a comment - 18/Nov/15 3:43 AM
Original comment by RileyW

I cannot see any problem with the plugin itself which should be causing the duplication issue. Can you please send the source of the WS plugin so I can try to debug?
Permalink
paul.bell@renesas.com Paul Bell added a comment - 18/Nov/15 3:43 AM
Original comment by tinui

Replying to [comment:9 RileyW]:

I attach the source file.
Permalink
paul.bell@renesas.com Paul Bell added a comment - 18/Nov/15 3:43 AM
Original comment by tinui

I raised a ticket for another issue. ( IDE-7112 )

 The device list has an issue. Duplicate device name is shown.
(See attached file.)

Reproduce procedure is below.

0. Use attached plugin.
1. Select "R7F0C0107" as select Target on "Select Target Specific Settings" dialog and create GNURL78 project.
2. Create GNURL78 project again. Select "R7F0C0107" again.

In this case, duplicate device name is shown.
(Refer attache file)

